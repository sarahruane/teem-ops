"use strict";angular.module("teemOpsApp",["ngAnimate","ngCookies","ngResource","ui.router","ngSanitize","ngTouch","ui.bootstrap","LocalStorageModule","mgcrea.ngStrap"]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("/",{url:"/",templateUrl:"views/main.html",controller:"MainCtrl"}).state("addapp",{url:"/addapp",templateUrl:"views/addapp.html",controller:"AddAppCtrl"}).state("apps",{url:"/apps",templateUrl:"views/apps.html",controller:"ViewAppsCtrl"}).state("detail",{url:"/apps/detail/:id",templateUrl:"views/app-detail.html",controller:"AppDetailCtrl"})}]),angular.module("teemOpsApp").service("appManagerService",["localStorageService",function(a){var b=[],c=function(){b=[];var c=a.keys();angular.forEach(c,function(c){var d=a.get(c);b.push(d)})};this.addApp=function(b){return b.appId="teemOpsApp-"+b.appName.replace("","-"),a.set(b.appId,b)},this.getApp=function(b){var c=a.get(b);return c},this.removeApp=function(b){a.remove(b)},this.stopApp=function(a){console.log("Stop app: "+a)},this.saveApp=function(b){a.set(b.appId,b)},this.allApps=function(){return c(),b}}]),angular.module("teemOpsApp").directive("editModePanel",function(){return{restrict:"A",scope:{editEnabled:"=",toggle:"&",save:"&"},template:'<div><button class="btn btn-secondary" data-ng-hide="editEnabled" data-ng-click="toggle({section: section})" data-ng-cloak>Edit</button><div class="button-group" data-ng-cloak data-ng-show="editEnabled"><button class="btn btn-primary" data-ng-click="save({section: section})">Save changes</button><button class="btn btn-secondary" data-ng-click="toggle({section: section})">Cancel</button></div></div>'}}),angular.module("teemOpsApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("teemOpsApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("teemOpsApp").controller("AddAppCtrl",["$scope","$timeout","appManagerService",function(a,b,c){var d=this;a.processing=!1,a.debug=!1,a.app={appName:null,environment:null,environmentType:null,database:null,caching:null,sourceCode:{source:null,authenticated:null,path:null}},a.storedApps=[],d.init=function(){a.storedApps=c.allApps()},a.submit=function(d){d&&(a.processing=!0,b(function(){c.addApp(a.app),a.storedApps=c.allApps(),a.processing=!1},100))},d.init()}]),angular.module("teemOpsApp").controller("ViewAppsCtrl",["$scope","appManagerService",function(a,b){var c=this;a.debug=!1,a.storedApps=[],c.init=function(){a.storedApps=b.allApps()},a["delete"]=function(c){b.removeApp(c),a.storedApps=b.allApps()},a.copy=function(c){var d=b.getApp(c);d.appName+="-copy",b.addApp(d),a.storedApps=b.allApps()},c.init()}]),angular.module("teemOpsApp").controller("AppDetailCtrl",["$scope","$timeout","$stateParams","$filter","$location","$anchorScroll","appManagerService",function(a,b,c,d,e,f,g){var h=this;a.currentApp=null,a.editModes={deploy:!1,infrastructure:!1,availability:!1,sourceCode:!1},a.processing=!1,h.init=function(){a.currentApp=g.getApp(c.id)},a.scrolltoHref=function(a){e.hash(a),f()},a.toggleEditMode=function(b){a.editModes[b]=!a.editModes[b]},a.editModeEnabled=function(b){return a.editModes[b]},a.saveApp=function(c){a.processing=!0,b(function(){var b=g.saveApp(a.currentApp);a.editModes[c]=!b,a.processing=!1},10)},h.init()}]);